# 커밋 템플릿 테스트 가이드

## 빠른 테스트 방법

### 1. 템플릿 적용 확인

```bash
# 템플릿 적용
git config commit.template .gitmessage.txt

# 설정 확인
git config commit.template
# 출력: .gitmessage.txt
```

### 2. 더미 커밋으로 테스트

```bash
# 1. 테스트용 파일 생성
echo "test" > test.txt
git add test.txt

# 2. 커밋 (에디터가 열림)
git commit

# 3. 에디터에서 다음과 같이 작성:
#    Feat: 테스트 커밋
#
#    (나머지는 # 주석이므로 그대로 둠)

# 4. 저장하고 에디터 종료

# 5. 커밋 메시지 확인
git log -1 --pretty=format:"%B"
```

**예상 출력:**

```
Feat: 테스트 커밋
```

`# ============================================` 이후 내용은 모두 제거되어야 합니다.

### 3. 주석 제거 확인

```bash
# 커밋 전체 메시지 확인 (주석 없이)
git log -1

# 커밋 메시지만 확인
git log -1 --pretty=%B

# 원본 그대로 확인 (주석 포함 - 불가능, Git이 이미 제거)
# Git은 커밋 시점에 주석을 제거하므로 복구 불가
```

### 4. 테스트 커밋 정리

```bash
# 테스트 커밋 취소
git reset --soft HEAD~1

# 테스트 파일 삭제
git reset HEAD test.txt
rm test.txt
```

## 주석 처리 상세 동작

### Git의 주석 처리 규칙

1. **기본 주석 문자**: `#` (변경 가능)
2. **처리 시점**: 커밋 시점 (에디터 저장 후)
3. **적용 범위**: 줄의 첫 문자가 `#`인 경우만

### 예시

#### 제거되는 경우 ✅

```
# 이 줄은 제거됩니다
#이것도 제거
#     공백 있어도 제거
```

#### 제거되지 않는 경우 ❌

```
코드에서 # 주석 사용  ← 줄 중간이므로 유지
  # 앞에 공백 있음    ← 탭/공백으로 시작하므로 유지 (Git 버전에 따라 다름)
```

**안전한 방법**: 항상 줄의 첫 문자를 `#`로 시작

### Git 설정 확인

```bash
# 현재 주석 문자 확인
git config --get core.commentChar
# 출력 없음 = 기본값 # 사용

# 주석 문자 변경 (예: ;로 변경)
git config core.commentChar ";"

# 이제 ;로 시작하는 줄이 주석 처리됨
```

## 일반적인 문제 해결

### 문제 1: 주석이 제거되지 않음

**원인**: `core.commentChar` 설정이 다른 문자로 변경됨

**해결:**

```bash
# 기본값으로 재설정
git config --unset core.commentChar

# 또는 명시적으로 설정
git config core.commentChar "#"
```

### 문제 2: 템플릿이 표시되지 않음

**원인**: `-m` 옵션 사용

**해결:**

```bash
# 잘못된 방법 (템플릿 무시됨)
git commit -m "메시지"

# 올바른 방법 (템플릿 사용)
git commit
```

### 문제 3: 의도한 내용이 주석 처리됨

**원인**: 줄이 `#`로 시작

**해결:**

```bash
# 잘못된 작성
#123 이슈 해결  ← # 때문에 제거됨

# 올바른 작성
Issue #123 해결  ← 중간에 #이므로 유지
Resolves #123   ← 권장 형식
```

## 고급: 주석 처리 커스터마이징

### 프로젝트별 주석 문자 설정

```bash
# .git/config 파일에 추가
[core]
    commentChar = ";"

# 또는 명령어로
git config core.commentChar ";"
```

### 템플릿에서 주석 문자 사용

```bash
# .gitmessage.txt
<타입>: <제목>

; ============================================
; 커밋 메시지는 위에 작성 (아래는 참고용)
; ============================================
; Feat: 새로운 기능 추가
```

**참고**: 대부분의 경우 기본 `#`를 사용하는 것을 권장합니다.
